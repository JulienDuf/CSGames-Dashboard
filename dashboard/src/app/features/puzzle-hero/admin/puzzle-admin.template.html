<div class="page-wrapper">
    <div fxLayout="row" fxLayoutAlign="start center">
        <h1>{{ "pages.puzzle_hero.puzzle_hero" | translate }}</h1>

        <div fxFlex></div>
        <a class="btn btn-primary" (click)="clickAddTrack()">
            {{ "pages.puzzle_hero.admin.add_track" | translate }}&nbsp;
            <i class="fal fa-plus"></i>
        </a>
        <a class="btn btn-default"><i class="fal fa-edit"></i></a>
    </div>

    <app-loading-spinner [loading]="loading$">
    </app-loading-spinner>

    <alert type="success" class="text-center mt-3" *ngIf="(puzzleHeroInfo$ | async)?.open">
        Le puzzle hero est présentement accessible par les participants.
    </alert>
    <alert type="danger" class="text-center mt-3" *ngIf="!(puzzleHeroInfo$ | async)?.open">
        Le puzzle hero n'est pas présentement accessible par les participants.
    </alert>
    <ng-container *ngIf="error$ | async">
        <div style="text-align: center">
            <i class="far fa-times-circle error fa-8x"></i>
            <h5>{{ "pages.puzzle_hero.loading_error" | translate }}</h5>
        </div>
    </ng-container>

    <ng-container *ngIf="tracks$ | async as tracks">
        <div class="mt-4">
            <app-track *ngFor="let track of tracks" [showStar]="false" [adminMode]="true"
                       (clickPuzzle)="clickPuzzle($event, track)" (clickAddPuzzle)="clickPuzzle($event)"
                       (clickUpdateTrack)="clickUpdateTrack($event)"
                       [track]="track"></app-track>
        </div>
    </ng-container>
</div>
