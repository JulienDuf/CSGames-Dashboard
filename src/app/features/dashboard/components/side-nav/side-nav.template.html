<div class="side-nav-wrapper">
    <ng-container *ngIf="loading; else content">
        <div class="sidenav-placeholder">
            <svg class="loading-placeholder">
                <svg:circle cx="120" cy="100" r="100"/>
                <svg:rect x="10" y="240" rx="8" ry="8" width="220" height="34"/>
                <svg:rect x="10" y="279" rx="8" ry="8" width="220" height="34"/>
                <svg:rect x="10" y="319" rx="8" ry="8" width="220" height="34"/>
                <svg:rect x="10" y="358" rx="8" ry="8" width="220" height="34"/>
                <svg:rect x="10" y="397" rx="8" ry="8" width="220" height="34"/>
                <svg:rect x="10" y="436" rx="8" ry="8" width="220" height="34"/>
            </svg>
        </div>
    </ng-container>
    <ng-template #content>
        <img class="logo" [src]="(currentEvent$ | async)?.imageUrl">

        <div class="navigation">
            <!-- <a *ngIf="(attendee$ | async)?.registered" [routerLink]="['/home']" routerLinkActive="active">
                <div [fxLayout]="'row'" fxFlexFill>
                    <div fxFlex="20">
                        <i class="fas fa-home"></i>
                    </div>
                    <div fxFlex="80">
                        {{ "pages.home.home" | translate }}
                    </div>
                </div>
            </a> -->
            <a *ngIf="(attendee$ | async) && !((attendee$ | async)?.registered)" [routerLink]="['/onboarding']"
               routerLinkActive="active">
                <div [fxLayout]="'row'" fxFlexFill>
                    <div fxFlex="20">
                        <i class="fal fa-id-card"></i>
                    </div>
                    <div fxFlex="80">
                        {{ "pages.onboarding.onboarding" | translate }}
                    </div>
                </div>
            </a>
            <a *ngIf="(attendee$ | async)?.registered" [routerLink]="['/guide']" routerLinkActive="active">
                <div [fxLayout]="'row'" fxFlexFill>
                    <div fxFlex="20">
                        <i class="fal fa-book"></i>
                    </div>
                    <div fxFlex="80">
                        {{ "pages.guide.guide" | translate }}
                    </div>
                </div>
            </a>
            <a *ngIf="(attendee$ | async)?.registered" [routerLink]="['/schedule']" routerLinkActive="active">
                <div [fxLayout]="'row'" fxFlexFill>
                    <div fxFlex="20">
                        <i class="fal fa-calendar"></i>
                    </div>
                    <div fxFlex="80">
                        {{ "pages.schedule.schedule" | translate }}
                    </div>
                </div>
            </a>
            <a *ngIf="(attendee$ | async)?.registered && (puzzleHeroOpen$ | async)" [routerLink]="['/puzzle-hero']"
               routerLinkActive="active">
                <div [fxLayout]="'row'" fxFlexFill>
                    <div fxFlex="20">
                        <i class="fal fa-puzzle-piece"></i>
                    </div>
                    <div fxFlex="80">
                        {{ "pages.puzzle_hero.puzzle_hero" | translate }}
                    </div>
                </div>
            </a>
            <div class="sublinks" *ngIf="isActive('puzzle-hero')">
                <a [routerLink]="['/puzzle-hero/tracks']" routerLinkActive="active">
                    {{ "pages.puzzle_hero.tracks" | translate }}
                </a>

                <a *ngIf="scoreboardOpen$ | async" [routerLink]="['/puzzle-hero/scoreboard']" routerLinkActive="active">
                    {{ "pages.puzzle_hero.scoreboard" | translate }}
                </a>
            </div>

            <ng-container *ifRole="['attendee', 'captain', 'godparent']">
                <a *ngIf="!(attendee$ | async) || (attendee$ | async)?.registered" [routerLink]="['/team']"
                   routerLinkActive="active">
                    <div [fxLayout]="'row'" fxFlexFill>
                        <div fxFlex="20">
                            <i class="fal fa-users"></i>
                        </div>
                        <div fxFlex="80">
                            {{ "pages.team.team" | translate }}
                        </div>
                    </div>
                </a>
            </ng-container>
            <a *ifRole="['admin', 'super-admin']" [routerLink]="['/team/edit']" routerLinkActive="active">
                <div [fxLayout]="'row'" fxFlexFill>
                    <div fxFlex="20">
                        <i class="fal fa-users"></i>
                    </div>
                    <div fxFlex="80">
                        {{ "pages.team.teams" | translate }}
                    </div>
                </div>
            </a>
            <a *ifRole="['admin', 'super-admin']" [routerLink]="['/notifications']" routerLinkActive="active">
                <div [fxLayout]="'row'" fxFlexFill>
                    <div fxFlex="20">
                        <i class="fal fa-bell"></i>
                    </div>
                    <div fxFlex="80">
                        {{ "pages.notifications.notifications" | translate }}
                    </div>
                </div>
            </a>
            <a *ngIf="(attendee$ | async)?.registered" [routerLink]="['/sponsors']" routerLinkActive="active">
                <div [fxLayout]="'row'" fxFlexFill>
                    <div fxFlex="20">
                        <i class="fal fa-gem"></i>
                    </div>
                    <div fxFlex="80">
                        {{ "pages.sponsors.sponsors" | translate }}
                    </div>
                </div>
            </a>
            <!-- <a *ngIf="(attendee$ | async)?.registered" [routerLink]="['/competition']" routerLinkActive="active">
                <div [fxLayout]="'row'" fxFlexFill>
                    <div fxFlex="20">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <div fxFlex="80">
                        {{ "pages.competition.competitions" | translate }}
                    </div>
                </div>
            </a> -->
        </div>
    </ng-template>
</div>
